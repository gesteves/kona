<article class="entry entry--full entry--article>" id="entry-<%= article.sys.id.parameterize %>" aria-labelledby="hed-<%= article.sys.id.parameterize %>">
  <header class="entry__header">
      <p class="entry__meta">
        <% if article.draft %>
          <span class="entry__highlight">Draft</span>
        <% end %>
        <span><%= icon_svg("classic", "light", "calendar") %> <%= article_permalink_timestamp(article) %></span>
        <% if article.contentful_metadata.tags.present? %>
          <span>
            <% if article.contentful_metadata.tags.size == 1 %>
              <%= icon_svg("classic", "light", "tag") %>
            <% else %>
              <%= icon_svg("classic", "light", "tags") %>
            <% end %>
            <%= article.contentful_metadata.tags.sort { |a, b| a.name <=> b.name }.map { |tag| link_to tag.name, "/tagged/#{tag.id}/index.html" }.join(', ') %>
          </span>
        <% end %>
      </p>
    <h2 class="entry__hed" id="hed-<%= article.sys.id.parameterize %>">
      <%= smartypants(remove_widows(article.title)) %>
    </h2>
    <p class="entry__meta">
      <span><%= icon_svg("classic", "light", "stopwatch") %> <%= reading_time(article) %></span>
      <span><%= icon_svg("classic", "light", "eye") %> <%= article_views(article) %></span>
    </p>
  </header>
  <div class="entry__body">
    <%= render_body(article.intro, image_variant: :full) %>
    <%= render_body(article.body, image_variant: :full) %>
    <%= partial 'partials/disclosure', locals: { entry: article } %>
  </div>
</article>
